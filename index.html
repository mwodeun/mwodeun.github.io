<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MWODEUN ëª¨ë“ ê²½ë§¤</title>
<link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">

<style>
:root{
  --brand:#6a0dad;
  --danger:#d40000;
  --bg:#f5f5f5;
  --text:#0b2239;
}

*{box-sizing:border-box;}
body{margin:0;font-family:Arial, sans-serif;background:var(--bg);color:var(--text);}

/* âœ… í’€í­(ì—¬ë°± ìµœì†Œ) */
.full{
  width:100%;
  padding-left:16px;
  padding-right:16px;
}

/* í•˜ëŠ˜ ë°°ê²½ */
.sky{
  background:linear-gradient(180deg,#48b2ff 0%,#86cfff 52%,#d9f3ff 100%);
  padding-top:18px;
  padding-bottom:18px;
  border-bottom:1px solid rgba(0,0,0,0.06);
  position:relative;
}
.sky:before{
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 14% 28%, rgba(255,255,255,0.65) 0 15%, transparent 16%),
    radial-gradient(circle at 23% 30%, rgba(255,255,255,0.55) 0 11%, transparent 12%),
    radial-gradient(circle at 74% 22%, rgba(255,255,255,0.60) 0 18%, transparent 19%),
    radial-gradient(circle at 85% 26%, rgba(255,255,255,0.50) 0 12%, transparent 13%);
  pointer-events:none;
}
.sky > *{position:relative;}

/* ë¡œê³ /íƒ€ì´í‹€ */
.headerRow{display:flex;align-items:center;gap:14px;}
.logoCircle{
  width:92px;height:92px;border-radius:50%;
  background:#fff;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 10px 25px rgba(0,0,0,0.10);
  border:1px solid rgba(0,0,0,0.06);
  overflow:hidden;
}
/* ë¡œê³  íŒŒì¼ ì—¬ë°±ì´ ìˆì–´ë„ í¬ê²Œ ë³´ì´ê²Œ */
.logoCircle img{
  height:78px; width:auto; display:block;
  transform: scale(1.35);
  transform-origin:center;
}
.titleText{font-weight:900;font-size:22px;color:#08324d;}

/* ë°°ë„ˆ */
.banner{
  margin-top:12px;
  background:rgba(255,255,255,0.62);
  border:1px solid rgba(255,255,255,0.55);
  border-radius:16px;
  padding:14px;
  overflow:hidden;
  box-shadow:0 12px 28px rgba(0,0,0,0.10);
}
.marquee{
  font-family:"Jua",sans-serif;
  font-size:18px;
  white-space:nowrap;
  transform:translateX(-55%);
  animation:slideStop 5s ease-out 1 forwards;
  color:#08324d;
}
@keyframes slideStop{
  0%{transform:translateX(-55%);}
  70%{transform:translateX(0);}
  100%{transform:translateX(0);}
}

/* ë©”ë‰´ */
.navTop{
  margin-top:12px;
  background:var(--brand);
  padding:10px;
  border-radius:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}
.navTop .left{display:flex;gap:8px;flex-wrap:wrap;align-items:center;}
.navTop a{
  color:#fff;text-decoration:none;
  padding:8px 12px;border-radius:10px;font-weight:900;font-size:13px;
}
.navTop a:hover{background:rgba(255,255,255,0.18);}

.navBottom{
  margin-top:8px;
  background:#222;
  padding:10px;
  border-radius:12px;
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  justify-content:center;
}
.navBottom a{
  color:#fff;text-decoration:none;
  padding:8px 12px;border-radius:10px;font-weight:800;font-size:13px;
}
.navBottom a:hover{background:rgba(106,13,173,0.40);}

/* ì»¨í…ì¸ (í’€í­) */
.container{
  width:100%;
  padding-top:14px;
  padding-bottom:22px;
}

/* ì„¹ì…˜ íƒ€ì´í‹€ */
.sectionTitle{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  margin:14px 0 10px;
}
.sectionTitle h2{margin:0;font-size:18px;}
.pill{font-size:12px;font-weight:900;padding:6px 10px;border-radius:999px;background:#f1e6ff;color:#4b0aa0;border:1px solid #ead7ff;}

/* ë§ˆê°ì„ë°• ë°•ìŠ¤ */
.closingBox{
  background:#fff5f5;
  border:2px solid var(--danger);
  border-radius:16px;
  padding:14px;
  margin-bottom:16px;
  box-shadow:0 6px 16px rgba(0,0,0,0.06);
}
.closingTop{display:flex;justify-content:space-between;align-items:center;gap:10px;}
.closingBox h3{color:var(--danger);margin:0;font-size:16px;}
.closingItem{margin-top:8px;font-size:13px;line-height:1.35;}
.smallBtn{
  background:#111;color:#fff;border:none;
  padding:8px 12px;border-radius:12px;cursor:pointer;font-weight:900;
}
.smallBtn:hover{background:#000;}

/* âœ… ì¹´ë“œ 4ì—´(ë°ìŠ¤í¬íƒ‘ ì•ˆì •) */
.cardsGrid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap:14px;
}
@media (max-width: 1050px){
  .cardsGrid{grid-template-columns: repeat(2, minmax(0, 1fr));}
}
@media (max-width: 620px){
  .cardsGrid{grid-template-columns: repeat(1, minmax(0, 1fr));}
}

.card{
  background:#fff;
  padding:14px;
  border-radius:14px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
}
.card .img{
  width:100%;
  height:150px;
  border-radius:12px;
  overflow:hidden;
  background:#eee;
}
.card .img img{width:100%;height:100%;object-fit:cover;display:block;}
.card h3{margin:10px 0 8px;font-size:15px;}
.remain{color:var(--danger);font-size:13px;margin:6px 0;}
.mainBtn{
  background:var(--brand);color:#fff;border:none;
  padding:8px 12px;border-radius:12px;cursor:pointer;font-weight:900;
}
.mainBtn:hover{background:#5300a8;}

/* í…ìŠ¤íŠ¸ 7ì¹¸ ë³´ë“œ */
.textBoard{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  background:#fff;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 6px 16px rgba(0,0,0,0.06);
}
.textCol{
  border-right:1px solid #eee;
  padding:10px;
  font-size:12px;
  min-height:170px;
}
.textCol:last-child{border-right:none;}
.textCol h4{
  margin:0 0 8px;
  font-size:13px;
  border-bottom:1px solid #eee;
  padding-bottom:6px;
}
.textItem{margin-bottom:10px;padding-bottom:8px;border-bottom:1px dashed #eee;}
.textItem b{display:block;font-size:12px;}
.textItem span{display:block;color:#444;margin-top:2px;}
</style>
</head>

<body>

<!-- âœ… ìƒë‹¨ë„ í’€í­ -->
<div class="sky">
  <div class="full">
    <div class="headerRow">
      <div class="logoCircle"><img src="logo.png" alt="logo"></div>
      <div class="titleText">MWODEUN ëª¨ë“ ê²½ë§¤</div>
    </div>

    <div class="banner">
      <div class="marquee">
        ì–´ì©Œë©´ ë²„ë ¤ì§ˆì§€ë„ ëª¨ë¥´ëŠ” ë‹¹ì‹ ì˜ ëª¨ë“ ê²ƒì„ ì ˆì‹¤í•˜ê²Œ í•©ë¦¬ì ì¸ ê°€ê²©ìœ¼ë¡œ ì¬ì‚¬ìš©ë ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ ë“œë¦½ë‹ˆë‹¤
      </div>
    </div>

    <div class="navTop">
      <div class="left">
        <a href="#" id="navHome">HOME</a>
        <a href="#" id="navRules">ìš´ì˜ê·œì¹™</a>
        <a href="#" id="navSell">íŒë§¤ë“±ë¡</a>
        <a href="#" id="navMy">ë§ˆì´í˜ì´ì§€</a>
      </div>
      <div style="color:rgba(255,255,255,0.9);font-size:12px;font-weight:900;">
        âœ… í’€í­ ì ìš© Â· ì¹´ë“œ 4ì—´ ê³ ì •
      </div>
    </div>

    <div class="navBottom">
      <a href="#" class="cat" data-cat="ì „ì²´">ì§„í–‰ì¤‘ì¸ ê²½ë§¤</a>
      <a href="#" class="cat" data-cat="ê±´ì„¤ ì”ì—¬ìì¬">ê±´ì„¤ì”ì—¬ìì¬</a>
      <a href="#" class="cat" data-cat="ê°€ì „ì œí’ˆ">ê°€ì „ì œí’ˆ</a>
      <a href="#" class="cat" data-cat="ê³µêµ¬/ì¥ë¹„">ê³µêµ¬/ì¥ë¹„</a>
      <a href="#" class="cat" data-cat="ë ˆì €ìš©í’ˆ">ë ˆì €ìš©í’ˆ</a>
      <a href="#" class="cat" data-cat="ê³ ì¥&íŒŒì†ì œí’ˆ">ê³ ì¥&íŒŒì†í’ˆ</a>
      <a href="#" id="closingOnly">ë§ˆê°ì„ë°•</a>
      <a href="#" class="cat" data-cat="êµ¬í•´ìš”">êµ¬í•´ìš”</a>
    </div>
  </div>
</div>

<div class="container">
  <div class="full">

    <!-- ë§ˆê°ì„ë°• -->
    <div class="closingBox">
      <div class="closingTop">
        <h3>ğŸ”¥ ë§ˆê°ì„ë°• (1ì‹œê°„ ì´í•˜)</h3>
        <button class="smallBtn" id="refreshBtn">ëª©ë¡ ê°±ì‹ </button>
      </div>
      <div id="closingList" class="closingItem">ê³„ì‚°ì¤‘...</div>
    </div>

    <!-- ì¹´ë“œ(ì´ë¯¸ì§€) -->
    <div class="sectionTitle">
      <h2>ì´ë¯¸ì§€ í¬í•¨ ìƒí’ˆ</h2>
      <span class="pill">4ê°œ í•œ ì¤„(ë°ìŠ¤í¬íƒ‘)</span>
    </div>
    <div class="cardsGrid" id="cards"></div>

    <!-- í…ìŠ¤íŠ¸ ë³´ë“œ -->
    <div class="sectionTitle" style="margin-top:18px;">
      <h2>ì¹´í…Œê³ ë¦¬ë³„ í…ìŠ¤íŠ¸ ëª©ë¡</h2>
      <span class="pill">ìƒí’ˆëª… Â· í˜„ì¬ê°€ Â· ë‚¨ì€ì‹œê°„</span>
    </div>
    <div class="textBoard" id="textBoard">
      <div class="textCol" data-col="ê±´ì„¤ ì”ì—¬ìì¬"><h4>ê±´ì„¤ì”ì—¬ìì¬</h4></div>
      <div class="textCol" data-col="ê°€ì „ì œí’ˆ"><h4>ê°€ì „ì œí’ˆ</h4></div>
      <div class="textCol" data-col="ê³µêµ¬/ì¥ë¹„"><h4>ê³µêµ¬/ì¥ë¹„</h4></div>
      <div class="textCol" data-col="ê³ ì¥&íŒŒì†ì œí’ˆ"><h4>ê³ ì¥&íŒŒì†í’ˆ</h4></div>
      <div class="textCol" data-col="ë ˆì €ìš©í’ˆ"><h4>ë ˆì €ìš©í’ˆ</h4></div>
      <div class="textCol" data-col="êµ¬í•´ìš”"><h4>êµ¬í•´ìš”</h4></div>
      <div class="textCol" data-col="ê¸°íƒ€"><h4>ê¸°íƒ€</h4></div>
    </div>

  </div>
</div>

<script>
/* ì™¸ë¶€ ì´ë¯¸ì§€ í˜¸ì¶œ ì—†ì´ ì¦‰ì‹œ í‘œì‹œë˜ëŠ” SVG */
function svgImageData(title){
  const t = (title || "MWODEUN").slice(0, 12);
  const svg =
`<svg xmlns="http://www.w3.org/2000/svg" width="600" height="300">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#6a0dad"/>
      <stop offset="1" stop-color="#3c0a7a"/>
    </linearGradient>
  </defs>
  <rect width="100%" height="100%" rx="24" fill="url(#g)"/>
  <circle cx="520" cy="80" r="60" fill="rgba(255,255,255,0.15)"/>
  <circle cx="120" cy="210" r="90" fill="rgba(255,255,255,0.10)"/>
  <text x="40" y="170" font-size="54" font-family="Arial" font-weight="800" fill="#ffffff">${t}</text>
  <text x="40" y="220" font-size="22" font-family="Arial" fill="rgba(255,255,255,0.85)">MWODEUN ëª¨ë“ ê²½ë§¤</text>
</svg>`;
  return "data:image/svg+xml;charset=UTF-8," + encodeURIComponent(svg);
}

const products = [
  {id:1,title:"ì „ë™ë“œë¦´",cat:"ê³µêµ¬/ì¥ë¹„",price:10000,end:Date.now()+1800000},
  {id:2,title:"TV ê³ ì¥",cat:"ê³ ì¥&íŒŒì†ì œí’ˆ",price:5000,end:Date.now()+4000000},
  {id:3,title:"ê±´ì„¤ì² ë¬¼",cat:"ê±´ì„¤ ì”ì—¬ìì¬",price:15000,end:Date.now()+2000000},
  {id:4,title:"ìº í•‘í…Œì´ë¸”",cat:"ë ˆì €ìš©í’ˆ",price:7000,end:Date.now()+3500000}
];

let selectedCat = "ì „ì²´";
let filterClosingOnly = false;

function money(n){ return Number(n||0).toLocaleString("ko-KR")+"ì›"; }
function remainText(endMs){
  const diff = endMs - Date.now();
  if (diff <= 0) return "ë§ˆê°";
  const mins = Math.floor(diff / 60000);
  const hrs = Math.floor(mins / 60);
  const mm = mins % 60;
  if (hrs >= 1) return `${hrs}ì‹œê°„ ${mm}ë¶„`;
  return `${mm}ë¶„`;
}
function isClosing(endMs){
  const diff = endMs - Date.now();
  return diff > 0 && diff <= 3600000;
}

/* ì¹´ë“œ DOM 1íšŒ ìƒì„± */
function buildCardsOnce(){
  const wrap = document.getElementById("cards");
  wrap.innerHTML = "";
  products.forEach(p=>{
    const card = document.createElement("div");
    card.className = "card";
    card.setAttribute("data-id", p.id);

    const imgWrap = document.createElement("div");
    imgWrap.className = "img";
    const img = document.createElement("img");
    img.src = svgImageData(p.title);
    img.alt = p.title;
    imgWrap.appendChild(img);

    const h3 = document.createElement("h3");
    h3.textContent = p.title;

    const price = document.createElement("div");
    price.innerHTML = `í˜„ì¬ê°€: <b class="pPrice">${money(p.price)}</b>`;

    const remain = document.createElement("div");
    remain.className = "remain";
    remain.innerHTML = `ë‚¨ì€ì‹œê°„: <b class="pRemain">${remainText(p.end)}</b>`;

    const btn = document.createElement("button");
    btn.className = "mainBtn";
    btn.textContent = "ì…ì°°í•˜ê¸°";
    btn.addEventListener("click", ()=>{
      alert("ë°ëª¨: ì…ì°° ê¸°ëŠ¥ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì—°ê²°í•©ë‹ˆë‹¤.");
    });

    card.appendChild(imgWrap);
    card.appendChild(h3);
    card.appendChild(price);
    card.appendChild(remain);
    card.appendChild(btn);
    wrap.appendChild(card);
  });
}

function updateTextBoard(){
  document.querySelectorAll(".textCol").forEach(col=>{
    const head = col.querySelector("h4").outerHTML;
    col.innerHTML = head;
  });

  const now = Date.now();
  products.forEach(p=>{
    if (p.end <= now) return;
    if (selectedCat !== "ì „ì²´" && p.cat !== selectedCat) return;

    const col = document.querySelector(`.textCol[data-col="${p.cat}"]`) ||
                document.querySelector(`.textCol[data-col="ê¸°íƒ€"]`);
    if (!col) return;

    const item = document.createElement("div");
    item.className = "textItem";
    item.innerHTML = `
      <b>${p.title}</b>
      <span>${money(p.price)}</span>
      <span>ë‚¨ì€ì‹œê°„: ${remainText(p.end)}</span>
    `;
    col.appendChild(item);
  });
}

function updateClosingBox(){
  const box = document.getElementById("closingList");
  const list = products
    .filter(p=>isClosing(p.end))
    .sort((a,b)=>a.end-b.end)
    .map(p=>`${p.title} | ${money(p.price)} | ${remainText(p.end)}`)
    .slice(0, 10);

  box.innerHTML = list.length ? list.join("<br>") : "ë§ˆê°ì„ë°• ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.";
}

function applyCardFilter(){
  document.querySelectorAll(".card").forEach(card=>{
    const id = Number(card.getAttribute("data-id"));
    const p = products.find(x=>x.id===id);
    if (!p) return;

    const alive = p.end > Date.now();
    if (!alive) { card.style.display = "none"; return; }

    if (filterClosingOnly){
      card.style.display = isClosing(p.end) ? "" : "none";
      return;
    }

    if (selectedCat === "ì „ì²´"){
      card.style.display = "";
    }else{
      card.style.display = (p.cat === selectedCat) ? "" : "none";
    }
  });
}

function refreshAll(){
  updateClosingBox();
  updateTextBoard();
  applyCardFilter();

  // ì¹´ë“œì˜ ë‚¨ì€ì‹œê°„ í…ìŠ¤íŠ¸ë§Œ ê°±ì‹ 
  document.querySelectorAll(".card").forEach(card=>{
    const id = Number(card.getAttribute("data-id"));
    const p = products.find(x=>x.id===id);
    if (!p) return;
    const remainEl = card.querySelector(".pRemain");
    if (remainEl) remainEl.textContent = remainText(p.end);
  });
}

/* ë©”ë‰´ */
document.querySelectorAll(".cat").forEach(a=>{
  a.addEventListener("click",(e)=>{
    e.preventDefault();
    selectedCat = a.getAttribute("data-cat") || "ì „ì²´";
    filterClosingOnly = false;
    refreshAll();
  });
});
document.getElementById("closingOnly").addEventListener("click",(e)=>{
  e.preventDefault();
  filterClosingOnly = true;
  selectedCat = "ì „ì²´";
  refreshAll();
});
document.getElementById("refreshBtn").addEventListener("click", ()=>refreshAll());

/* ì´ˆê¸° */
buildCardsOnce();
refreshAll();

/* 1ë¶„ì— 1ë²ˆë§Œ ê°€ë³ê²Œ ê°±ì‹  */
setInterval(refreshAll, 60000);
</script>

</body>
</html>
