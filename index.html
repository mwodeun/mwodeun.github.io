<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>MWODEUN ëª¨ë“ ê²½ë§¤</title>

<style>
body{
  font-family: Arial, sans-serif;
  margin:0;
  background:#f5f5f5;
}

header{
  text-align:center;
  padding:30px 0 10px;
  background:white;
}

nav{
  background:#222;
  padding:10px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
}

nav a{
  color:white;
  margin:10px;
  text-decoration:none;
  font-size:14px;
}

nav a:hover{
  color:#6a0dad;
}

.container{
  max-width:1100px;
  margin:40px auto;
  padding:0 20px;
}

h2{
  margin-bottom:25px;
}

.cards{
  display:flex;
  gap:25px;
  flex-wrap:wrap;
  justify-content:center;
}

.card{
  background:white;
  width:300px;
  padding:20px;
  border-radius:12px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
  transition:0.2s;
  overflow:hidden;
}

.card:hover{
  transform:translateY(-5px);
}

.card img{
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:10px;
  margin-bottom:15px;
  display:block;
}

.card h3{
  margin:0 0 15px;
  font-size:18px;
}

.price{
  font-size:16px;
  font-weight:bold;
  margin-bottom:8px;
}

.remain{
  font-size:14px;
  color:#d40000;
  margin-bottom:15px;
}

button{
  padding:8px 14px;
  background:#6a0dad;
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

button:hover{
  background:#5300a8;
}

/* âœ… í•„í„° ìƒíƒœ í‘œì‹œ */
.filterbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  background:white;
  border-radius:10px;
  padding:12px 14px;
  box-shadow:0 6px 16px rgba(0,0,0,0.06);
  margin-bottom:18px;
  font-size:14px;
}
.badge{
  display:inline-block;
  padding:6px 10px;
  background:#f1e6ff;
  border-radius:999px;
  color:#4b0aa0;
  font-weight:700;
}
.linkbtn{
  color:#6a0dad;
  cursor:pointer;
  font-weight:700;
  text-decoration:underline;
}
.small{
  color:#666;
}

/* âœ… íŒì—…(ëª¨ë‹¬) */
.modal-bg{
  position:fixed;
  left:0; top:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.55);
  display:none;               /* ê¸°ë³¸ ìˆ¨ê¹€ */
  align-items:center;
  justify-content:center;
  z-index:9999;
  padding:20px;
}
.modal{
  width:100%;
  max-width:420px;
  background:white;
  border-radius:14px;
  box-shadow:0 12px 35px rgba(0,0,0,0.25);
  overflow:hidden;
}
.modal-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 16px;
  background:#6a0dad;
  color:white;
}
.modal-title{
  font-size:16px;
  font-weight:800;
}
.modal-close{
  background:transparent;
  border:none;
  color:white;
  font-size:22px;
  cursor:pointer;
  padding:0 6px;
}
.modal-body{
  padding:16px;
}
.modal-row{
  margin-bottom:10px;
  font-size:14px;
}
.modal-row b{
  display:inline-block;
  width:78px;
}
.modal-input{
  width:100%;
  padding:10px 12px;
  border:1px solid #ddd;
  border-radius:10px;
  font-size:14px;
  box-sizing:border-box;
  margin:8px 0 12px;
}
.modal-actions{
  display:flex;
  gap:10px;
  justify-content:flex-end;
  padding:0 16px 16px;
}
.btn-gray{
  background:#eee;
  color:#111;
}
.btn-gray:hover{
  background:#e0e0e0;
}
.notice{
  background:#faf5ff;
  border:1px solid #ead7ff;
  color:#4b0aa0;
  padding:10px 12px;
  border-radius:10px;
  font-size:13px;
  margin-top:10px;
}
</style>
</head>

<body>

<header>
  <img src="logo.png" alt="MWODEUN ëª¨ë“ ê²½ë§¤" style="height:90px;">
  <div style="font-size:22px; font-weight:700; margin-top:10px;">ëª¨ë“ ê²½ë§¤</div>
</header>

<nav>
  <a href="#">ğŸ“º ê°€ì „ì œí’ˆ</a>
  <a href="#">ğŸ— ê±´ì„¤ ì”ì—¬ìì¬</a>
  <a href="#">ğŸ’¥ ê³ ì¥&íŒŒì†ì œí’ˆ</a>
  <a href="#">ğŸ”§ ê³µêµ¬/ì¥ë¹„</a>
  <a href="#">ğŸ™‹ êµ¬í•´ìš”</a>

  <!-- âœ… ë§ˆê°ì„ë°• -->
  <a href="#" id="navClosing">â° ë§ˆê°ì„ë°•</a>

  <a href="#">ğŸ£ ë ˆì €ìš©í’ˆ</a>
  <a href="#">ğŸ“œ ìš´ì˜ê·œì¹™</a>

  <!-- âœ… ì „ì²´ ë³´ê¸° -->
  <a href="#" id="navAll">ğŸ”¥ ì§„í–‰ì¤‘ ê²½ë§¤</a>

  <a href="#">ğŸ“ íŒë§¤ë“±ë¡</a>
  <a href="#">ğŸ‘¤ ë§ˆì´í˜ì´ì§€</a>
</nav>

<div class="container">

<h2>ğŸ”¥ ì§„í–‰ì¤‘ ê²½ë§¤</h2>

<!-- âœ… í•„í„° ìƒíƒœ í‘œì‹œì¤„ -->
<div class="filterbar">
  <div>
    í˜„ì¬ ë³´ê¸°:
    <span class="badge" id="filterLabel">ì „ì²´</span>
    <span class="small" id="filterDesc">â€” ëª¨ë“  ê²½ë§¤ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.</span>
  </div>
  <div class="linkbtn" id="clearFilter" style="display:none;">í•„í„° í•´ì œ</div>
</div>

<div class="cards" id="cards">

  <!-- âœ… ê° ì¹´ë“œì— data-title / data-price / data-bidsë¥¼ ë„£ì–´ë‘  (íŒì—…ìš©) -->
  <div class="card" data-title="ì „ë™ë“œë¦´ ì„¸íŠ¸" data-price="í˜„ì¬ê°€: (ë¯¸ì •)" data-bids="ì…ì°° 3ê±´" data-end="2026-02-08T10:00:00+09:00">
    <img src="https://via.placeholder.com/300x180/6a0dad/ffffff?text=ì „ë™ë“œë¦´" alt="ì „ë™ë“œë¦´">
    <h3>ì „ë™ë“œë¦´ ì„¸íŠ¸</h3>
    <div class="price">ì…ì°° 3ê±´</div>
    <div class="remain">ë‚¨ì€ì‹œê°„: ê³„ì‚°ì¤‘...</div>
    <button class="bidBtn">ì…ì°°í•˜ê¸°</button>
  </div>

  <div class="card" data-title="LG 55ì¸ì¹˜ TV (ê³ ì¥)" data-price="í˜„ì¬ê°€: 10,000ì›" data-bids="ì…ì°° (ë¯¸ì •)" data-end="2026-02-08T11:30:00+09:00">
    <img src="https://via.placeholder.com/300x180/333333/ffffff?text=55ì¸ì¹˜+TV" alt="TV">
    <h3>LG 55ì¸ì¹˜ TV (ê³ ì¥)</h3>
    <div class="price">í˜„ì¬ê°€: 10,000ì›</div>
    <div class="remain">ë‚¨ì€ì‹œê°„: ê³„ì‚°ì¤‘...</div>
    <button class="bidBtn">ì…ì°°í•˜ê¸°</button>
  </div>

  <div class="card" data-title="ìº í•‘ í…Œì´ë¸”" data-price="í˜„ì¬ê°€: 5,000ì›" data-bids="ì…ì°° (ë¯¸ì •)" data-end="2026-02-08T12:00:00+09:00">
    <img src="https://via.placeholder.com/300x180/008000/ffffff?text=ìº í•‘í…Œì´ë¸”" alt="ìº í•‘ í…Œì´ë¸”">
    <h3>ìº í•‘ í…Œì´ë¸”</h3>
    <div class="price">í˜„ì¬ê°€: 5,000ì›</div>
    <div class="remain">ë‚¨ì€ì‹œê°„: ê³„ì‚°ì¤‘...</div>
    <button class="bidBtn">ì…ì°°í•˜ê¸°</button>
  </div>

</div>
</div>

<!-- âœ… ì…ì°° íŒì—…(ëª¨ë‹¬) -->
<div class="modal-bg" id="modalBg" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true">
    <div class="modal-header">
      <div class="modal-title" id="modalTitle">ì…ì°°í•˜ê¸°</div>
      <button class="modal-close" id="modalClose" aria-label="ë‹«ê¸°">Ã—</button>
    </div>
    <div class="modal-body">
      <div class="modal-row"><b>ìƒí’ˆ:</b> <span id="mItem">-</span></div>
      <div class="modal-row"><b>ì •ë³´:</b> <span id="mInfo">-</span></div>
      <div class="modal-row"><b>ë‚¨ì€ì‹œê°„:</b> <span id="mRemain">-</span></div>

      <label style="font-size:14px; font-weight:700;">ì…ì°°ê°€(ì›)</label>
      <input class="modal-input" id="bidAmount" type="number" min="0" placeholder="ì˜ˆ) 15000">

      <div class="notice">
        â€» ë°ëª¨ìš© íŒì—…ì…ë‹ˆë‹¤. ì‹¤ì œ ê²°ì œ/ë³´ì¦ê¸ˆ/ì…ì°° ì €ì¥ ê¸°ëŠ¥ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ë¶™ì…ë‹ˆë‹¤.
      </div>
    </div>
    <div class="modal-actions">
      <button class="btn-gray" id="modalCancel">ì·¨ì†Œ</button>
      <button id="modalSubmit">ì…ì°° ì œì¶œ</button>
    </div>
  </div>
</div>

<script>
/* =========================
   âœ… 1) ë‚¨ì€ì‹œê°„ + ë§ˆê°ì„ë°•(1ì‹œê°„ ì´í•˜) í•„í„°
========================= */
let currentFilter = "all"; // all | closing
let lastClickedCard = null;

function getDiffMs(endStr){
  const end = new Date(endStr).getTime();
  const now = Date.now();
  return end - now;
}

function formatRemainText(diffMs){
  if (diffMs <= 0) return { text: "ë‚¨ì€ì‹œê°„: ë§ˆê°", isClosed:true, totalSec:0 };

  const totalSec = Math.floor(diffMs / 1000);
  const days = Math.floor(totalSec / (60 * 60 * 24));
  const hours = Math.floor((totalSec % (60 * 60 * 24)) / (60 * 60));
  const mins = Math.floor((totalSec % (60 * 60)) / 60);
  const secs = totalSec % 60;

  const dText = days > 0 ? `${days}ì¼ ` : "";
  return {
    text: `ë‚¨ì€ì‹œê°„: ${dText}${hours}ì‹œê°„ ${mins}ë¶„ ${secs}ì´ˆ`,
    isClosed:false,
    totalSec
  };
}

function updateCountdownsAndFilter(){
  const cards = document.querySelectorAll(".card");

  cards.forEach(card => {
    const endStr = card.getAttribute("data-end");
    const diff = getDiffMs(endStr);
    const remainEl = card.querySelector(".remain");

    const remainInfo = formatRemainText(diff);

    if (remainInfo.isClosed) {
      remainEl.textContent = remainInfo.text;
      remainEl.style.color = "gray";
      card.style.display = "none"; // ë§ˆê°ëœ ìƒí’ˆì€ ìˆ¨ê¹€
      return;
    }

    remainEl.textContent = remainInfo.text;
    remainEl.style.color = "#d40000";

    // âœ… í•„í„° ì ìš©
    if (currentFilter === "closing") {
      // 1ì‹œê°„ ì´í•˜(<=3600ì´ˆ)ë§Œ ë³´ì—¬ì£¼ê¸°
      card.style.display = (remainInfo.totalSec <= 3600) ? "" : "none";
    } else {
      card.style.display = "";
    }
  });

  // ë§Œì•½ í•„í„° ë•Œë¬¸ì— í˜„ì¬ ì—´ë ¤ìˆëŠ” ì¹´ë“œê°€ ìˆ¨ê²¨ì§€ë©´ íŒì—…ë„ ë‹«ê¸°
  if (lastClickedCard && lastClickedCard.style.display === "none") {
    closeModal();
  }
}

function setFilter(mode){
  currentFilter = mode;

  const label = document.getElementById("filterLabel");
  const desc = document.getElementById("filterDesc");
  const clearBtn = document.getElementById("clearFilter");

  if (mode === "closing") {
    label.textContent = "ë§ˆê°ì„ë°•(1ì‹œê°„ ì´í•˜)";
    desc.textContent = "â€” ë‚¨ì€ ì‹œê°„ì´ 1ì‹œê°„ ì´í•˜ì¸ ê²½ë§¤ë§Œ í‘œì‹œí•©ë‹ˆë‹¤.";
    clearBtn.style.display = "block";
  } else {
    label.textContent = "ì „ì²´";
    desc.textContent = "â€” ëª¨ë“  ê²½ë§¤ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.";
    clearBtn.style.display = "none";
  }

  updateCountdownsAndFilter();
}

document.getElementById("navClosing").addEventListener("click", (e) => {
  e.preventDefault();
  setFilter("closing");
});
document.getElementById("navAll").addEventListener("click", (e) => {
  e.preventDefault();
  setFilter("all");
});
document.getElementById("clearFilter").addEventListener("click", () => setFilter("all"));

/* =========================
   âœ… 2) ì…ì°°í•˜ê¸° íŒì—…(ëª¨ë‹¬)
========================= */
const modalBg = document.getElementById("modalBg");
const modalClose = document.getElementById("modalClose");
const modalCancel = document.getElementById("modalCancel");
const modalSubmit = document.getElementById("modalSubmit");

const mItem = document.getElementById("mItem");
const mInfo = document.getElementById("mInfo");
const mRemain = document.getElementById("mRemain");
const bidAmount = document.getElementById("bidAmount");
const modalTitle = document.getElementById("modalTitle");

function openModal(card){
  lastClickedCard = card;

  const title = card.getAttribute("data-title") || "ìƒí’ˆ";
  const price = card.getAttribute("data-price") || "";
  const bids = card.getAttribute("data-bids") || "";
  const endStr = card.getAttribute("data-end");

  modalTitle.textContent = "ì…ì°°í•˜ê¸°";
  mItem.textContent = title;
  mInfo.textContent = [price, bids].filter(Boolean).join(" / ") || "-";

  const remainInfo = formatRemainText(getDiffMs(endStr));
  mRemain.textContent = remainInfo.isClosed ? "ë§ˆê°" : remainInfo.text.replace("ë‚¨ì€ì‹œê°„: ","");

  bidAmount.value = "";
  modalBg.style.display = "flex";
  modalBg.setAttribute("aria-hidden", "false");
  bidAmount.focus();
}

function closeModal(){
  modalBg.style.display = "none";
  modalBg.setAttribute("aria-hidden", "true");
  lastClickedCard = null;
}

document.querySelectorAll(".bidBtn").forEach(btn => {
  btn.addEventListener("click", () => {
    const card = btn.closest(".card");
    openModal(card);
  });
});

modalClose.addEventListener("click", closeModal);
modalCancel.addEventListener("click", closeModal);

// ë°°ê²½ í´ë¦­í•´ë„ ë‹«ê¸°
modalBg.addEventListener("click", (e) => {
  if (e.target === modalBg) closeModal();
});

// ESCë¡œ ë‹«ê¸°
document.addEventListener("keydown", (e) => {
  if (e.key === "Escape" && modalBg.style.display === "flex") closeModal();
});

// ì œì¶œ ë²„íŠ¼(í˜„ì¬ëŠ” ë°ëª¨ ì•Œë¦¼)
modalSubmit.addEventListener("click", () => {
  const v = (bidAmount.value || "").trim();
  if (!v) {
    alert("ì…ì°°ê°€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    bidAmount.focus();
    return;
  }
  alert(`ì…ì°° ì œì¶œ(ë°ëª¨): ${v}ì›\n\nâ€» ì‹¤ì œ ì €ì¥/ê²°ì œ ê¸°ëŠ¥ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì—°ê²°í•©ë‹ˆë‹¤.`);
  closeModal();
});

/* =========================
   âœ… ì´ˆê¸° ì‹¤í–‰
========================= */
setFilter("all");
setInterval(updateCountdownsAndFilter, 1000);
</script>

</body>
</html>
